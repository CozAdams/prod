<template>
  <lightning-card title="Address Information" icon-name="standard:contact">
    <div class="address-container">
      <c-google-address-search onaddressselected={handleAddressSelected}></c-google-address-search>
      <div>
        <template if:true={showSpinner}>
          <lightning-spinner alternative-text="Saving"></lightning-spinner>
        </template>
        <lightning-record-edit-form record-id={recordId} object-api-name={objectApiName} onsubmit={handleSubmit} onsuccess={handleSuccess} onerror={handleError}>
          <lightning-messages></lightning-messages>
          <lightning-input-field field-name={street} class="slds-p-horizontal_none" onchange={handleChange} disabled></lightning-input-field>
          <lightning-input-field field-name={street2} class="slds-p-horizontal_none" onchange={handleChange}></lightning-input-field>
          <div class="slds-grid slds-wrap">
            <div class="slds-size_4-of-6">
              <lightning-input-field field-name={city} class="slds-p-left_none slds-p-right_small" onchange={handleChange} disabled></lightning-input-field>
            </div>
            <div class="slds-size_2-of-6">
              <lightning-input-field field-name={state} class="slds-p-left_small slds-p-right_none" onchange={handleChange} disabled></lightning-input-field>
            </div>
            <div class="slds-size_4-of-6">
              <lightning-input-field field-name={postalCode} class="slds-p-left_none slds-p-right_small" onchange={handleChange} disabled></lightning-input-field>
            </div>
            <div class="slds-size_2-of-6 ">
              <lightning-input-field field-name={country} class="slds-p-left_small slds-p-right_none" onchange={handleChange} disabled></lightning-input-field>
            </div>
          </div>
          <div class="slds-p-top_xx-small">
            <lightning-button
              class="slds-m-top_small slds-m-right_x-small"
              variant="brand"
              type="submit"
              name="update"
              label="Update Address"
              disabled={buttonsDisabled}>
            </lightning-button>
            <lightning-button 
              class="slds-m-top_small" 
              label="Cancel" 
              onclick={handleReset}
              disabled={buttonsDisabled}>
            </lightning-button>
            </div>
        </lightning-record-edit-form>
      </div>
    </div>
  </lightning-card>
</template>